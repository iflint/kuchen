

head
	meta(name='viewport', content='width=device-width, initial-scale=1')
	link(rel='stylesheet', href='main.css')

body
	div.fullRow.titleRow K U C H E N
	div.fullRow.subtitleRow TODAY &#9660;

	div.fullRow.calorieCount
		span= actual.calories
		span  of 
		span= target.calories
	div.fullRow.calorieLabel CALORIES

	div.flexRow.actualChart(style={'height': actual.calories/target.calories*chartScale})
		div.slice.protein(style={'flex': actual.protein/target.calories*chartScale})
		div.slice.carb(style={'flex': actual.carb/target.calories*chartScale})
		div.slice.sugar(style={'flex': actual.sugar/target.calories*chartScale})
		div.slice.unsatfat(style={'flex': actual.unsatfat/target.calories*chartScale})
		div.slice.satfat(style={'flex': actual.satfat/target.calories*chartScale})

	div.spaceRow

	div.flexRow.remainderChart(style={'height': (target.calories-actual.calories)/target.calories*chartScale})
		div.slice.protein(style={'flex': (target.protein-actual.protein)/target.calories*chartScale})
		div.slice.carb(style={'flex': (target.carb-actual.carb)/target.calories*chartScale})
		div.slice.sugar(style={'flex': (target.sugar-actual.sugar)/target.calories*chartScale})
		div.slice.unsatfat(style={'flex': (target.unsatfat-actual.unsatfat)/target.calories*chartScale})
		div.slice.satfat(style={'flex': (target.satfat-actual.satfat)/target.calories*chartScale})

	div.spaceRow

	div.fullRow.flexRow
		div.flex1
			div.remainder
				div.inlineBlock
					span= actual.protein
				div.inlineBlock
					span &nbsp;of&nbsp;
					span= target.protein
			div.filledRow.protein
			div PROTEIN
		div.flex1
			div.remainder 
				div.inlineBlock
					span= actual.carb+actual.sugar
				div.inlineBlock
					span &nbsp;of&nbsp;
					span= target.carb+target.sugar
			div.filledRow.carb
			div CARB
		div.flex1
			div.remainder
				div.inlineBlock
					span= actual.unsatfat+actual.satfat
				div.inlineBlock
					span &nbsp;of&nbsp;
					span= target.unsatfat+target.satfat
			div.filledRow.unsatfat
			div FAT

	div.spaceRow

	div.fullRow.subtitleRow FOOD LOG &#9660;
	div.spaceRow
	each item in foodLog
		div.flexRow.marginBottom1
			div.flexRow.flex1(style={'height': item.calories/target.calories*chartScale*1.2})
				div.slice.protein(style={'flex': item.protein})
				div.slice.carb(style={'flex': item.carb})
				div.slice.sugar(style={'flex': item.sugar})
				div.slice.unsatfat(style={'flex': item.unsatfat})
				div.slice.satfat(style={'flex': item.satfat})
			div.flexSpace
			div.flexHalf= item.quantity + 'g'
			div.flex2= item.name
	div.flexRow#addItemLine
		div.flexRow.flex1.addItemChart
			div.slice.addItemChartBox(onclick='toggleAddItem()') +
		div.flexSpace
		div.flexAddItem

	div#addItemArea
		div.flexRow

			div#addItem.flex3.subtitleRow.center.pointer.black(onclick='toggleItemArea(this, newItem)') ADD ITEM
			div#yourItems.flex3.subtitleRow.center.pointer.gray(onclick='toggleItemArea(this, userItems)') YOUR ITEMS
			div#popular.flex3.subtitleRow.center.pointer.gray(onclick='toggleItemArea(this, popularItems)') POPULAR
			div.flex1.subtitleRow.pointer(onclick='toggleAddItem()') x

		div.flexRow#newItem
			div
				input.itemInput#proteinInput(type='number')
				input.itemInput#carbInput(type='number')
				input.itemInput#fatInput(type='number')
				div.spaceRow
				input.itemInput#satfat(type='number')
				input.itemInput#sugar(type='number')
				input.itemInput#fiber(type='number')
				input.itemInput#cholesterol(type='number')
				input.itemInput#sodium(type='number')
			div
				div.itemInput PROTEIN
				div.itemInput CARB
				div.itemInput FAT
				div.spaceRow
				div.itemInput SATURATED FAT
				div.itemInput SUGAR
				div.itemInput FIBER
				div.itemInput CHOLESTEROL
				div.itemInput SODIUM
				div.spaceRow
				div.itemInput.pointer(onclick='addItem()') ADD ITEM
		div.fullRow.flexWrap.none#userItems 
			each item in foodLog
				div.itemBox.pointer
					div= item.name
					div.flexRow.flex1(style={'height': item.calories/target.calories*chartScale*1.2})
						div.slice.protein(style={'flex': item.protein})
						div.slice.carb(style={'flex': item.carb})
						div.slice.sugar(style={'flex': item.sugar})
						div.slice.unsatfat(style={'flex': item.unsatfat})
						div.slice.satfat(style={'flex': item.satfat})
					
				div.spaceRow
		div.fullRow.flexWrap.none#popularItems
			each item in foodLog
				div.itemBox.pointer
					div= item.name
					div.flexRow.flex1(style={'height': item.calories/target.calories*chartScale*1.2})
						div.slice.protein(style={'flex': item.protein})
						div.slice.carb(style={'flex': item.carb})
						div.slice.sugar(style={'flex': item.sugar})
						div.slice.unsatfat(style={'flex': item.unsatfat})
						div.slice.satfat(style={'flex': item.satfat})
					
				div.spaceRow

	script.
		function toggleDiv(element) {
			if (window.getComputedStyle(element).display == 'none') {
				element.style.display = 'block';
			} else {
				element.style.display = 'none';
			}
		}

		function toggleAddItem () {
			var addItemLine = document.getElementById('addItemLine');
			var addItemArea = document.getElementById('addItemArea');
			if (window.getComputedStyle(addItemLine).display == 'none') {
				addItemLine.style.display = 'flex';
				addItemArea.style.display = 'none';
			} else {
				addItemLine.style.display = 'none';
				addItemArea.style.display = 'block';
			}
		}

		function toggleItemArea (clicked, target) {
			var addItem = document.getElementById('addItem');
			var yourItems = document.getElementById('yourItems');
			var popular = document.getElementById('popular');
			var newItem = document.getElementById('newItem');
			var userItems = document.getElementById('userItems');
			var popularItems = document.getElementById('popularItems');

				console.log(clicked,target);
			if (window.getComputedStyle(target).display == 'none') {
				addItem.style.color = 'gray';
				yourItems.style.color = 'gray';
				popular.style.color = 'gray';
				newItem.style.display = 'none';
				userItems.style.display = 'none';
				popularItems.style.display = 'none';

				target.style.display = 'flex';
				clicked.style.color = 'black';
			}
		}

		function addItem () {
			var inputsArray = document.getElementsByTagName('input');
			console.log(inputsArray[0].value);
			if (!inputsArray[0].value || !inputsArray[1].value || !inputsArray[2].value) {
				console.log('missing required field');
			}
		}
